@model IEnumerable<ASWeb.Models.ServiceModel>

@{
    ViewBag.Title = "Index";
}

<h2>Всі сервіси</h2>

<div>
    <form method="post">
        <input type="text" name="filter" value="@ViewBag.Filter" />
        <select name="sort">
            <option></option>
            <option value="count" @(ViewBag.Sort=="count"?"selected":"")>за кількістю</option>
            <option value="dist" @(ViewBag.Sort=="dist"?"selected":"")>за відстанью</option>
        </select>
        <input type="hidden" name="latitude" id="Latitude" value=""/>
        <input type="hidden" name="longitude" id="Longitude" value=""/>
        <input type="submit" value="Пошук" />
    </form>
    
</div>
<table>
    <tr>
        <th>
            @*@Html.DisplayNameFor(model => model.title)*@
        </th>
        <th>
            В базі
        </th>
        <th>
            Відстань
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.ActionLink(item.title, "item",new {id=item.id})
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.count)
        </td>
        <td>
            @if(item.distance!=null)
            {
                <span>@Math.Round( item.distance.Value/1000,1) км</span>
            }
            
        </td>
        <td>
            
        </td>
    </tr>
}

</table>
